
Str8upTeleport = {
    description = "Str8up Teleport Component",
    specialTpSelection = 0,
    specialTpNames = { "Akulov penthouse", "Peralezes Apt", "Gutierrez Apt", "Time Machine Guitar room", "Denny's Estate Inside", "Hanako Estate bedroom", "Voodoo Boys Subway", "Slayton Apt", "NCPD Conference room", "JigJig St hotel room", "Dark Matter hotel room", "Megatower H8 penthouse", "Outside the city (Nomad starting)", "V's Mansion", "Grand Imperial Plaza Mall", "Unfinished Casino", "VB Data Fortress", "River BD School", "Monorail Tunnel", "Konpeki Tower", "Konpeki Tower - V Suite", "Clouds", "Embers", "Badlands Tunnel", "Badlands Tunnel Entrance", "Petrochem Off-limits area", "Arasaka Tower Abandoned area", "Arasaka Tower Jungle", "Arasaka Tower Upper Atrium", "Arasaka Tower CEO level", "Arasaka Tower CEO office", "Arasaka Tower Unlisted levels", "Arasaka Tower Unlisted temple", "Arasaka Tower Counter-intel", "Arasaka Tower Underground", "Arasaka Tower Boring Machine", "Arasaka Mikoshi Mainframe", "Arasaka Orbital Station", "Johnny interrogation room" },
    specialTpCoords = { {-1218.135986, 1409.635010, 113.524445}, {-75.815399, -113.607819, 111.161728}, {20.760391, 5.750076, 138.900955}, {-1843.676392, -575.336243, 7.754036}, {486.977325, 1291.791016, 234.458664}, {290.197662, 1022.468079, 229.920425}, {-1662.758545, -1867.002563, 54.982040}, {-1450.692139, -1038.510742, 77.555298}, {-1761.547729, -1010.821655, 94.300003}, {-664.977112, 847.753113, 28.499626}, {-372.268982, 271.240143, 215.515579}, {-701.484680, 849.270264, 322.252228}, {-3235.881592, -6146.751465, 96.834175}, {-1341.383545, 1242.970337, 111.100006}, {-2278.209473, -1992.328613, 20.570023}, {934.451233, 1458.630981, 242.120010}, {-1661.448242, -1869.755859, 54.992889}, {-6491.909180, -3167.271240, 57.558006}, {-1663.618774, -1867.443726, 54.990150}, {-2229.413818, 1769.449707, 21.000000}, {-2202.186035, 1783.184204, 163.000000}, {-625.404236, 794.564392, 132.252228}, {-1795.816162, -526.988647, 74.241196}, {-1255.622437, 126.991272, -43.753677}, {185.345749, 2365.449707, 67.081177}, {-118.046112, -486.535583, 7.296860}, {-1475.830200, 161.548401, 208.637604}, {-1449.256470, 118.300171, 321.639038}, {-1390.497559, 162.406921, 388.347961}, {-1437.788208, 157.247620, 565.346008}, {-1447.286621, 73.579651, 568.946045}, {-1428.207520, 95.437912, 543.348022}, {-1383.655518, 118.832474, 542.696289}, {-1442.981689, 139.817459, 141.996506}, {-1376.191528, 143.706009, -26.648010}, {-1447.010010, 40.182648, -36.814171}, {-1448.108398, 149.156219, -27.652016}, {4743.650879, -1091.755127, 1310.439575}, {-1389.446533, 141.266556, -139.361572} },
    fastTravelAreaSelection = 0,
    fastTravelAreaNames = { "Metro", "Arasaka Waterfront", "Arroyo", "Charter Hill", "Coastview", "Corpo Plaza", "Downtown", "Japantown", "Kabuki", "Little China", "North Oak", "Northern Badlands", "Northside", "Rancho Coronado", "Southern Badlands", "The Glen", "Vista Del Rey", "Watson", "Wellsprings", "West Wind Estate" },
    fastTravelDestinationSelection = 0,
    fastTravelDestinationNames = { { "Charter Hill", "Congress MLK", "Downtown Alexander St", "Ebunike", "Eisenhower St", "Ellison St", "Farrier St", "Glen North", "Glen South", "Japantown South", "Market St", "Med Center", "Megabuilding H7", "Memorial Park", "Monroe St", "Republic Way", "Stadium", "Wolleson St", "Zocalo" }, { "Arasaka Waterfront North", "California & Pershing" }, { "Arasaka Industrial Park", "Hargreaves St", "Megabuilding H4", "Megabuilding H6", "MLK & Brandon", "Red Dirt Bar", "Republic East", "San Amaro St" }, { "Dynalar", "Gold Niwaki Plaza", "Lele Park", "Longshore South", "Luxury Apartments" }, { "Batty's Hotel", "Chapel", "Grand Imperial Mall", "Pacifica Pier", "Stadium Parking" }, { "Arasaka Tower", "Reconciliation Park", "Ring Road" }, { "Berkley & Bruce Skiv", "Downtown Central", "Downtown North", "Gold Beach Marina", "Halsey & MLK", "Skyline & Republic" }, { "Capitola St", "Cherry Blossom Market", "Crescent & Broad", "Dark Matter", "Fourth Wall Studios", "Japantown West", "Megabuilding H8", "Redwood Market", "Sagan & Diamond", "Silk Road West", "Skyline & Salinas" }, { "Allen St South", "Bellevue Overwalk", "Charter St", "Creek Loop", "Kabuki Central", "Kabuki Market", "Kennedy North", "Pinewood St South", "Sutter St" }, { "Afterlife", "Bradbury & Buran", "California & Cartwright", "Clarendon St", "Drake Ave", "Goldsmith St", "Megabuilding H10 Atrium", "Megabuilding H10", "Riot" }, { "Arasaka Estate", "Columbarium", "DriveIn Theater", "Kerry Eurodyne's Residence", "North Oak Sign" }, { "101 North", "Big Rock", "Dam", "Desert Film Set", "Edgewood Farm", "Far Ridge", "I9 East", "Lake Farm", "Medeski Fuel Station", "Mobile Camp", "Nomad Camp", "Oil Fields", "Old Turbines", "Rocky Ridge", "Sunset Motel", "Sunshine Motel", "Wraith Camp" }, { "All Foods Plant", "Docks", "East", "Ebunike Docks", "Longshore North", "Offshore St", "Pershing St" }, { "Almunecar & Jerez", "Kendal Park", "Mallagra & Manzanita", "Piez", "Rancho Coronado East", "Rancho Coronado North", "Rancho Coronado South", "Tama Viewpoint", "Trailer Park" }, { "Abandoned Fuel Station", "Abandoned Parking Lot", "Autowerks", "Border Checkpoint", "Fuel Station", "Las Palapas Motel", "Protein Farm", "Regional Airport", "Solar Arrays", "Solar Power Station", "Tango Tors Motel" }, { "El Coyote Cojo", "Embers", "Hanford Overpass", "Megabuilding H3", "Palms View Way", "Senate Market", "Valentino Alley", "Ventura & Skyline" }, { "College St", "Congress & Madison", "Delamain HQ", "Petrel St", "Republic & Vine", "Shooting Range", "Skyline East"} , { "Martin St" }, { "Berkeley & Bay", "Cannery Plaza", "Corporation St", "Megabuilding H2", "Palms View Plaza", "Parque del Mar", "Pumping Station" }, { "West Wind Apartments" } },
    fastTravelDestinationCoords = { { { -116.675049, 119.875946, 12.400810 }, { -1023.747253, -346.752930, 5.747658 }, { -2066.939941, 481.599426, 8.052666 }, { -1364.738647, -657.802734, 5.862694 }, { -1769.854980, 1867.438721, 18.266228 }, { -1387.395752, 1031.253052, 27.120079 }, { -1605.152466, 1475.684814, 18.213150 }, { -1550.820068, -645.377808, 5.644722 }, { -1589.916626, -1303.983398, 47.983864 }, { -565.596558, 208.287003, 22.278320 }, { -2119.529785, -697.364868, 6.807755 }, { -1419.682251, 1759.183472, 16.267494 }, { 131.369156, -1134.585693, 31.604141 }, { -1326.254639, -38.584312, -3.849998 }, { -527.089355, 1130.915649, 34.693810 }, { -1476.540527, 461.430115, 5.816879 }, { -1544.985840, -1949.305542, 62.844879 }, { -1065.882202, -1428.346924, 30.800568 }, { -1457.519043, 1180.812988, 45.969971 } }, { { -2249.422607, 2790.595703, 6.998512 }, { -2158.543945, 1992.921631, 18.179993 } }, { { -187.235092, -1498.562744, 7.651115 }, { -681.783813, -1253.090088, 8.917519 }, { -966.621643, -1772.664063, 11.139526 }, { -210.115601, -851.740540, 7.636658 }, { -506.188141, -760.183350, 7.425468 }, { -735.576233, -978.767334, 7.871933 }, { 121.172760, -631.823364, 7.586708 }, { 683.641724, -593.125793, 9.958153 } }, { { 191.919556, -281.097382, 6.850464 }, { -230.333893, 306.175964, 29.550003 }, { -176.279922, -82.963379, 7.199997 }, { 3.551506, -343.570831, 8.247482 }, { -57.159065, -49.195641, 7.179688 } }, { { -1861.534058, -1936.552734, 48.520454 }, { -1771.104004, -1947.012085, 57.196289 }, { -2187.653320, -2206.135498, 11.872383 }, { -1879.028564, -1626.882690, 18.023087 }, { -1306.253662, -1670.670898, 44.026413 } }, { { -1447.876465, 43.759552, 16.133087 }, { -1624.481689, -333.415283, -13.775887 }, { -1148.354980, 135.841690, 7.351761 } }, { { -1859.911255, 674.854797, 10.721786 }, { -2115.055420, 260.345886, 7.899048 }, { -1520.733521, 693.010620, 8.889977 }, { -2393.063965, 88.819763, 12.252205 }, { -1755.175659, 185.812897, 16.682281 }, { -2354.598389, 432.451263, 7.852264 } }, { { -519.242798, 1608.657349, 32.846870 }, { -701.197021, 952.707153, 12.000000 }, { -418.835938, 484.581635, 30.162666 }, { -304.737213, 222.058502, 28.793533 }, { -301.440247, 1088.926147, 65.659531 }, { -882.735962, 1313.359497, 22.410698 }, { -704.121216, 762.288940, 32.709610 }, { -388.168396, 702.382019, 115.000351 }, { -714.925049, 1277.999023, 29.565125 }, { -695.519409, 403.685699, 19.427155 }, { -456.937866, 1402.395508, 37.288055 } }, { { -1087.368286, 1312.513672, 5.374847 }, { -1129.874268, 1486.755005, 30.247276 }, { -846.116577, 1835.391968, 36.191414 }, { -1054.526245, 1572.820190, 2.538277 }, { -1183.310181, 1365.121094, 20.305519 }, { -1158.939819, 2014.353149, 12.077278 }, { -1213.705200, 1880.890137, 22.503624 }, { -1154.623413, 1160.797974, 17.336678 }, { -1202.710083, 1616.870239, 22.913216 } }, { { -1470.313232, 1062.898682, 22.690002 }, { -1555.838379, 1246.163086, 19.060921 }, { -2022.412109, 1641.620239, 9.099998 }, { -1974.476318, 1180.099487, 12.140587 }, { -1608.029541, 1772.902588, 18.380005 }, { -1520.434082, 1551.927002, 18.200005 }, { -1397.080200, 1277.981689, 123.082413 }, { -1381.996826, 1970.703613, 23.303986 }, { -1658.803955, 997.907043, 23.842079 } }, { { 485.876160, 1223.923828, 229.253220 }, { 153.372620, 576.671753, 117.253189 }, { -72.395996, 1988.022339, 100.879242 }, { 222.213425, 1077.246216, 200.585983 }, { 282.900299, 800.548462, 146.618530 } }, { { -2495.746094, 3583.858643, 12.938057 }, { 4347.493164, -721.745300, 147.884262 }, { 880.091492, -2991.241211, 204.616104 }, { 3202.316406, 620.702759, 104.465958 }, { 2458.574951, -1280.171875, 63.646767 }, { 4539.604492, -2132.445801, 183.254547 }, { 4963.110352, -740.377075, 135.504868 }, { 911.966309, -3497.900146, 184.137390 }, { 1443.871338, -1370.475952, 51.342392 }, { 3427.984863, -361.161224, 134.111588 }, { 1802.272705, 2248.458740, 180.203171 }, { -1835.562988, 3718.814941, 7.013145 }, { 3703.128418, -1682.625732, 123.686722 }, { 2534.697266, -95.649689, 81.437546 }, { 1634.063477, -738.236633, 49.895164 }, { 3583.372803, -895.978638, 119.432892 }, { 3079.850586, -2224.270020, 131.526901 } }, { { -715.770325, 2181.695068, 53.083183 }, { -1869.098877, 2701.500977, 7.186920 }, { -541.817627, 1855.663330, 36.308365 }, { -1480.964111, 2956.828857, 7.167450 }, { -600.727417, 2582.864014, 53.788757 }, { -1256.198730, 2913.805420, 7.186905 }, { -1731.432617, 2308.383789, 18.153419 } }, { { 60.003670, -1926.943848, 2.488144 }, { 365.050415, -1688.970215, 9.478279 }, { 312.330292, -1420.690552, 15.142372 }, { -152.257568, -2016.054443, 6.166382 }, { 436.093536, -2147.283691, 14.606949 }, { 703.166870, -980.638489, 28.830177 }, { -498.026093, -1850.947876, 7.427170 }, { 772.541748, -2111.575928, 172.688416 }, { 1193.787354, -592.487732, 32.642372 } }, { { -1121.068726, -5584.205566, 92.351715 }, { -765.010620, -2437.524658, 14.164856 }, { -85.442413, -4357.510742, 58.925934 }, { -2810.448486, -5434.768555, 96.817169 }, { -1795.271851, -4324.356445, 74.362686 }, { -1355.061646, -3701.890625, 55.518593 }, { -3479.191162, -4183.936523, 68.088974 }, { -1514.275391, -5080.505371, 83.015884 }, { -661.301819, -3836.813477, 72.034531 }, { -176.182175, -2612.593018, 28.585411 }, { -201.967300, -4915.733887, 77.367416 } }, { { -1327.961792, -1003.418335, 12.345001 }, { -1774.093262, -510.787659, 10.144997 }, { -1219.670898, -1208.430176, 32.824081 }, { -1177.690674, -916.811401, 12.874184 }, { -1719.818115, -885.937805, 8.586227 }, { -1888.541870, -574.476196, 7.874062 }, { -1610.918823, -1180.415405, 24.885757 }, { -1860.286377, -1206.148193, 20.227318 } }, { { -982.161499, -597.758911, 8.199997 }, { -1222.185913, -447.833893, 8.147102 }, { -890.029236, -83.328903, 7.229996 }, { -923.600098, 105.552841, 7.315536 }, { -597.018066, -121.825409, 7.680000 }, { -1048.470947, -914.859741, 8.182121 }, { -657.839233, -434.428345, 8.199997 } }, { { -1419.294434, 2225.762451, 18.200005 } }, { { -2232.568604, -364.378632, 17.328758 }, { -2439.859863, -537.561523, 6.900009 }, { -2402.859863, -71.859482, 8.101974 }, { -2121.614258, -1120.571533, 32.737091 }, { -2357.700684, -810.109253, 12.903328 }, { -2302.093018, -1108.038696, 14.000122 }, { -2410.070801, -961.201172, 8.134583 } }, { { -2658.558350, -2487.677979, 18.039314 } } },
    newWarpName = "New Warp",
    warpSelection = 0
}


function Str8upTeleport.tpToQuest()

    jm = Game.GetJournalManager()
    ms = Game.GetMappinSystem()
    quest = jm:GetTrackedEntry()
    if quest then
        quest_hash = jm:GetEntryHash(quest)
        none, locs = ms:GetQuestMappinPositionsByObjective(quest_hash)
        if locs[1] then
            Game.TeleportPlayerToPosition(locs[1].x, locs[1].y, locs[1].z)
        end
    end

end


function Str8upTeleport.specialTp()

    dest = Str8upTeleport.specialTpCoords[Str8upTeleport.specialTpSelection+1]
    Game.TeleportPlayerToPosition(dest[1], dest[2], dest[3])

end


function Str8upTeleport.fastTravelTp()

    if Str8upTeleport.fastTravelDestinationCoords[Str8upTeleport.fastTravelAreaSelection+1][Str8upTeleport.fastTravelDestinationSelection+1] then
        dest = Str8upTeleport.fastTravelDestinationCoords[Str8upTeleport.fastTravelAreaSelection+1][Str8upTeleport.fastTravelDestinationSelection+1]
        Game.TeleportPlayerToPosition(dest[1], dest[2], dest[3])
    end

end


function Str8upTeleport.addWarp(Str8upMenu)

    if Str8upTeleport.newWarpName:find("\0", 1, true) then
        addWarpName = Str8upTeleport.newWarpName:sub(1, Str8upTeleport.newWarpName:find("\0", 1, true)-1)
    else
        addWarpName = Str8upTeleport.newWarpName
    end
    if addWarpName == "" then
        addWarpName = "New Warp"
    end
    addWarpFinalName = addWarpName
    i = 0
    while Str8upMenu.Data.json.warps[addWarpFinalName] do
        i = i + 1
        addWarpFinalName = addWarpName .. " (" .. i .. ")"
    end
    pos = Game.GetPlayer():GetWorldPosition()
    Str8upMenu.Data.json.warps[addWarpFinalName] = { x = pos.x, y = pos.y, z = pos.z, w = pos.w, yaw = Game.GetPlayer():GetWorldYaw() }
    Str8upMenu.Data.Save()
    table.insert(Str8upMenu.Data.warpsNames, addWarpFinalName)
    Str8upTeleport.warpSelection = #Str8upMenu.Data.warpsNames - 1

end


function Str8upTeleport.removeWarp(Str8upMenu)

    Str8upMenu.Data.json.warps[Str8upMenu.Data.warpsNames[Str8upTeleport.warpSelection+1]] = nil
    Str8upMenu.Data.Save()
    table.remove(Str8upMenu.Data.warpsNames, Str8upTeleport.warpSelection+1)
    if Str8upTeleport.warpSelection+1 > #Str8upMenu.Data.warpsNames then
        Str8upTeleport.warpSelection = #Str8upMenu.Data.warpsNames - 1
    end

end


function Str8upTeleport.tpToWarp(Str8upMenu)

    tpTo = Str8upMenu.Data.json.warps[Str8upMenu.Data.warpsNames[Str8upTeleport.warpSelection+1]]
    Game.GetTeleportationFacility():Teleport(Game.GetPlayer(), Vector4.new(tpTo.x, tpTo.y, tpTo.z, tpTo.w) , EulerAngles.new(0,0,tpTo.yaw))

end

return Str8upTeleport